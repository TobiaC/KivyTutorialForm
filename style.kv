# defnizione di una Label per il testo
<BlackLabel@Label>:
    color: (0,0,0,1)

# definizione di una Label per il titolo personalizzata
<TitleLabel@Label>:
    canvas.before:
        Color:
            rgba: (1, 0.5, 0, 1)
        Rectangle:
            size: self.size
            pos: self.pos
    color: (1, 1, 1, 1)

# creazione di un custom spinner
<CustomSpinner@Spinner>:
    background_normal: ""
    background_color: (1, 0.5, 0, 1)
    color: (0, 0, 0, 1)

# creazione di un custom textinput
<CustomTextInput@TextInput>:
    multiline: False
    halign: "center"

<CustomButton@Button>:
    background_normal: ""
    background_color: (1, 0.5, 0, 1)
    on_press: self.background_color = (1, 0, 0, 0.8)
    on_release: self.background_color = (1, 0.5, 0, 1)

# stile della schermata MainWindow
<MainWindow>:
    submit_button: submit_button
    nome: nome
    cognome: cognome
    giorno: giorno
    mese: mese
    anno: anno
    luogo_di_nascita: luogo_di_nascita
    professione: professione
    patenteA: patenteA
    patenteB: patenteB
    patenteC: patenteC

    BoxLayout:
        padding: 20,100,20,20
        spacing: 30
        id: main_box
        canvas.before:
            Color:
                rgba: (1,1,1,1)
            Rectangle:
                size: self.size
                pos: self.pos
        orientation: "vertical"
        BoxLayout:
            id: title
            size_hint_y: 0.1
            TitleLabel:
                font_size: 50
                bold: True
                text: "Form da compilare"
        BoxLayout:
            padding: 20
            spacing: 30
            id: fields
            orientation: "vertical"
            BoxLayout:
                spacing: 5
                size_hint_y: .3
                BlackLabel:
                    size_hint_x: .4
                    text: "Nome"
                CustomTextInput:
                    id: nome
                    multiline: False
                    hint_text: "Nome"
                    halign: "center"
            BoxLayout:
                spacing: 5
                size_hint_y: .3
                BlackLabel:
                    size_hint_x: .4
                    text: "Cognome"
                CustomTextInput:
                    id: cognome
                    hint_text: "Cognome"
                    multiline: False
            BoxLayout:
                spacing: 5
                size_hint_y: .3
                BlackLabel:
                    size_hint_x: .4
                    text: "Data di\nnascita"
                BoxLayout:
                    id: data_di_nascita
                    orientation: "horizontal"
                    spacing: 5
                    CustomSpinner:
                        id: giorno
                        text: "giorno"
                        values: ["1", "2", "3", "4", "5", "6", "7", "8", "9", "10", "11", "12", "13", "14", "15", "16", "17", "18", "19", "20", "21", "22", "23", "24", "25", "26", "27", "28", "29", "30", "31"]
                    CustomSpinner:
                        id: mese
                        text: "mese"
                        values: ["gennaio", "febbraio", "marzo", "aprile", "maggio", "giugno", "luglio", "agosto", "settembre", "ottobre", "novembre", "dicembre"]
                    CustomSpinner:
                        id: anno
                        text: "anno"
                        values: ["2020", "2019", "2018", "2017", "2016", "2015", "2014", "2013", "2011", "2010", "2009", "2008", "2007", "2006", "2005", "2004", "2003", "2002", "2001", "2000", "1999", "1998", "1997", "1996", "1995", "1994", "1993", "1992", "1991", "1990"]
            BoxLayout:
                spacing: 5
                size_hint_y: .3
                BlackLabel: 
                    size_hint_x: .4
                    text: "Luogo di\nnascita"
                CustomTextInput:
                    id: luogo_di_nascita
                    hint_text: "Luogo di nascita"
                    multiline: False
            BoxLayout:
                spacing: 5
                size_hint_y: .3
                BlackLabel:
                    size_hint_x: .4
                    text: "Professione"
                CustomSpinner:
                    id: professione
                    text: "Scegli opzione"
                    values: ["studente", "lavoratore", "disoccupato", "pensionato", "artista"]
            BoxLayout:
                orientation: 'vertical'
                # size_hint_y: None
                # height: 30
                BlackLabel:
                    text: "Patenti in possesso"
                BoxLayout:
                    orientation: 'vertical'
                    spacing: 20
                    BlackLabel:
                        text: "Patente A"
                    CheckBox:
                        id: patenteA
                        color: (0,0,0)
                    BlackLabel:
                        text: "Patente B"
                    CheckBox:
                        id: patenteB
                        color: (0,0,0)
                    BlackLabel:
                        text: "Patente C"
                    CheckBox:
                        id: patenteC
                        color: (0,0,0)
        BoxLayout:
            id: button
            size_hint_y: .1
            Label:
            CustomButton:
                id: submit_button
                text: "Invia"
                on_release: root.conferma_invio_form()
            Label:


# definizione dello stile per la finestra popup
<CustomPopup>:
    invia_form: invia_form
    BoxLayout:
        canvas.before:
            Color:
                rgba: (1, 1, 1, 1)
            Rectangle:
                size: self.size
                pos: self.pos
        orientation: "vertical"
        Label:
            text: "Sei sicuro di inviare il form?"
            color: ( (1, 0.5, 0, 1))
        BoxLayout:
            size_hint_y: .1
            Button:
                text: "Cancel"
                on_release:
                    root.dismiss_popup()
            Button:
                id: invia_form
                text: "Invia"
                on_release:
                    root.invia_form()
                    root.dismiss_popup()

# definizione stile schermata SecondWindow
<SecondWindow>:
    data_riassunto: data_riassunto
    name: "secondwindow"
    BoxLayout:
        canvas.before:
            Color:
                rgba: (1,1,1,1)
            Rectangle:
                size: self.size
                pos: self.pos
        orientation: "vertical"
        padding: 20,100,20,20
        spacing: 20
        
        ScrollView:
            padding: 20,100,20,20
            canvas.before:
                Color:
                    rgba: (1,0.9,0.8,1)
                Rectangle:
                    size: self.size
                    pos: self.pos
            size_hint_y: .9
            do_scroll_x: False
            do_scroll_y: True
            BoxLayout:
                padding: 20
                spacing: 50
                size_hint_y: None
                height: self.minimum_height
                orientation:'vertical'
                id: data_riassunto   

        BoxLayout:
            spacing: 20
            padding: 10
            orientation: "horizontal"
            size_hint_y:.1
            CustomButton:
                text: "indietro"
                on_release: root.go_back()
            CustomButton:
                text: "ottieni dati"
                on_release: root.ottieni_dati()
            CustomButton:
                text: "esci"
                on_release: exit()
                