#:include secondwindow.kv


<BlackLabel@Label>:
    color: (0,0,0,1)

<TitleLabel@Label>:
    canvas.before:
        Color:
            rgba: (1, 0.5, 0, 1)
        Rectangle:
            size: self.size
            pos: self.pos
    color: (1, 1, 1, 1)


<MainWindow>:
    submit_button: submit_button
    nome: nome
    cognome: cognome
    data_di_nascita: data_di_nascita
    luogo_di_nascita: luogo_di_nascita
    BoxLayout:
        id: main_box
        canvas.before:
            Color:
                rgba: (1,1,1,1)
            Rectangle:
                size: self.size
                pos: self.pos
        orientation: "vertical"
        BoxLayout:
            id: title
            size_hint_y: 0.20
            TitleLabel:
                font_size: 30
                bold: True
                text: "Form da compilare"
        BoxLayout:
            id: fields
            orientation: "vertical"
            BoxLayout:
                size_hint_y: None
                height: 30
                BlackLabel:
                    text: "Nome"
                TextInput:
                    id: nome
                    multiline: False
            BoxLayout:
                size_hint_y: None
                height: 30
                BlackLabel:
                    text: "Cognome"
                TextInput:
                    id: cognome
                    multiline: False
            BoxLayout:
                size_hint_y: None
                height: 30
                BlackLabel:
                    text: "Data di nascita"
                TextInput:
                    id: data_di_nascita
                    multiline: False
            BoxLayout:
                size_hint_y: None
                height: 30
                BlackLabel:
                    text: "Luogo di nascita"
                TextInput:
                    id: luogo_di_nascita
                    multiline: False
            BoxLayout:
        BoxLayout:
            id: button
            size_hint_y: .1
            Label:
            Button:
                id: submit_button
                background_normal: ""
                background_color: (1, 0.5, 0, 1)
                background_down: ""
                text: "Invia"
                on_press:
                    self.background_color = (1, 0, 0, 0.8)
                on_release:
                    self.background_color = (1, 0.5, 0, 1)
                    root.conferma_invio_form()
            Label:


<CustomPopup>:
    invia_form: invia_form
    BoxLayout:
        canvas.before:
            Color:
                rgba: (1, 1, 1, 1)
            Rectangle:
                size: self.size
                pos: self.pos
        orientation: "vertical"
        Label:
            text: "Sei sicuro di inviare il form?"
            color: ( (1, 0.5, 0, 1))
        BoxLayout:

            Button:
                size_hint_y: None
                height: 50
                text: "Cancel"
                on_release:
                    root.dismiss_popup()
            Button:
                id: invia_form
                size_hint_y: None
                height: 50
                text: "Invia"
                on_release:
                    root.invia_form()
                    root.dismiss_popup()

<SecondWindow>:
    name: "secondwindow"
    BoxLayout:
        canvas.before:
            Color:
                rgba: (1,1,1,1)
            Rectangle:
                size: self.size
                pos: self.pos
        orientation: "vertical"
        Label:
            text: "Grazie per aver compilato il form"
        Button:
            size_hint_y: None
            height: 50
            text: "indietro"
            on_release:
                root.go_back()


#<WindowManager@ScreenManager>:
#
#    Screen:
#        name: "mainscreen"
#
#        BoxLayout:
#            orientation: "vertical"
#            Label:
#                text: "main screen"
#            Button:
#                text: "to screen 1"
#                on_press: app.root.current = "secondwindow"
#            Button:
#                text: "to screen 2"
#                on_press: app.root.current = "screen2"